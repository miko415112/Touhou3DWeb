"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[338],{213:function(e,n,i){i.d(n,{EZ:function(){return g},Wd:function(){return Z},uG:function(){return v}});var t,r,o,s=i(7186),a=i(6090),l=i(7309),c=i(6988),d=i(9995),u=i(7557),f=i(2621),m=i(2360),p=i(184),x=m.ZP.div(t||(t=(0,s.Z)(["\n  font-family: Alfa Slab One;\n  font-size: 20pt;\n  color: Black;\n  font-weight: bold;\n"]))),h=m.ZP.div(r||(r=(0,s.Z)(["\n  font-family: Alfa Slab One;\n  font-size: 15pt;\n  color: Black;\n  display: inline;\n"]))),j=m.ZP.div(o||(o=(0,s.Z)(["\n  font-family: Alfa Slab One;\n  font-size: 12pt;\n  color: Blue;\n  display: inline;\n"]))),v=function(e,n){a.Z.open({placement:"bottom",message:(0,p.jsx)(x,{children:"Invitation"}),description:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h,{children:"from ".concat(e.name,"  ")}),(0,p.jsx)(j,{children:"(".concat(e.email,") ")})]}),duration:0,style:{width:"fit-content",height:"fit-content"},key:e.name,btn:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Z,{type:"link",size:"small",onClick:function(){return a.Z.destroy(e.name)},children:"Reject"}),(0,p.jsx)(l.Z,{type:"primary",size:"small",onClick:function(){n(),a.Z.destroy(e.name)},children:"Accept"})]})})},g=function(e){a.Z.open({placement:"bottom",message:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{display:"inline",fontSize:"20px"},children:"RoomID"}),(0,p.jsx)(l.Z,{onClick:function(){navigator.clipboard.writeText(e).then((function(){Z({type:"success",msg:"RoomID copied"})}))},style:{border:"none"},icon:(0,p.jsx)(d.Z,{style:{fontSize:"20px"}})})]}),description:(0,p.jsx)("div",{style:{backgroundColor:"rgba(0,0,0,0.1)",fontSize:"18px"},children:e}),duration:0,style:{width:"fit-content",height:"fit-content"}})},Z=function(e){if(e.msg){var n=e.type,i=e.msg;switch(n){case"success":c.ZP.success({content:i,duration:3,icon:(0,p.jsx)(u.Z,{style:{fontSize:"25px"}}),style:{fontSize:"20px"}});break;case"error":c.ZP.error({content:i,duration:3,icon:(0,p.jsx)(f.Z,{style:{fontSize:"25px"}}),style:{fontSize:"20px"}})}}}},3182:function(e,n,i){i.d(n,{FF:function(){return P},Gx:function(){return z},fA:function(){return C},gl:function(){return I},pJ:function(){return S}});var t,r,o,s,a,l=i(678),c=i(7186),d=i(1687),u=i(5571),f=i(1055),m=i(7309),p=i(2360),x=i(5872),h=i(732),j=i(7575),v=i(713),g=i(9286),Z=i(184),y=p.ZP.div(t||(t=(0,c.Z)(["\n  font-family: Alfa Slab One;\n  font-size: 1.5vw;\n  color: Black;\n  font-weight: bold;\n"]))),k=p.ZP.div(r||(r=(0,c.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),w=p.ZP.div(o||(o=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n\n  gap: 10px;\n  height: 200px;\n  overflow: auto;\n"]))),b=p.ZP.div(s||(s=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n\n  gap: 10px;\n  height: 150px;\n  overflow: auto;\n"]))),F=p.ZP.div(a||(a=(0,c.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  color: Black;\n  font-size: 12pt;\n  gap: 10px;\n  img {\n    width: 30px;\n    height: 30px;\n  }\n"]))),C=function(e){var n=e.open,i=e.callback;return(0,Z.jsx)(d.Z,{open:n,title:"You need to sign in first",footer:null,closable:!1,children:(0,Z.jsx)(k,{children:(0,Z.jsx)(x.kZ,{onSuccess:i,onError:function(){return console.log("login failed")}})})})},S=function(e){var n=e.open,i=e.onJoin,t=e.onCancel,r=u.Z.useForm(),o=(0,l.Z)(r,1)[0];return(0,Z.jsx)(d.Z,{open:n,title:"Join an Existing Room",okText:"Join",cancelText:"Cancel",onCancel:t,onOk:function(){o.validateFields().then((function(e){o.resetFields(),i(e)}))},children:(0,Z.jsxs)(u.Z,{form:o,layout:"vertical",name:"form_in_modal",children:[(0,Z.jsx)(y,{children:"RoomID"}),(0,Z.jsx)(u.Z.Item,{name:"roomID",rules:[{required:!0,message:"Error: Please enter the RoomID"}],children:(0,Z.jsx)(f.Z,{})})]})})},I=function(e){var n=e.open,i=e.onSave,t=e.onCancel,r=u.Z.useForm(),o=(0,l.Z)(r,1)[0];return(0,Z.jsx)(d.Z,{open:n,okText:"Save",cancelText:"Cancel",onCancel:t,onOk:function(){o.validateFields().then((function(e){o.resetFields(),i(e)}))},children:(0,Z.jsxs)(u.Z,{form:o,layout:"vertical",name:"form_in_modal",children:[(0,Z.jsx)(y,{children:"Enter your new name"}),(0,Z.jsx)(u.Z.Item,{name:"name",rules:[{required:!0,message:"Error: Please enter your name"}],children:(0,Z.jsx)(f.Z,{})})]})})},P=function(e){var n=e.open,i=e.requests,t=e.friends,r=e.onCancel,o=e.onAddFriend,s=e.onAcceptFriend,a=e.onDeleteFriend,c=e.onDeleteRequest,p=u.Z.useForm(),x=(0,l.Z)(p,1)[0];return(0,Z.jsxs)(d.Z,{open:n,footer:null,onCancel:r,children:[(0,Z.jsx)(y,{children:"friends request"}),(0,Z.jsx)(b,{children:null===i||void 0===i?void 0:i.map((function(e,n){return(0,Z.jsxs)(F,{children:[(0,Z.jsx)("img",{src:e.picture}),(0,Z.jsx)("div",{children:e.name}),(0,Z.jsx)("div",{children:e.email}),(0,Z.jsx)(m.Z,{onClick:function(){c(e.email)},size:"small",icon:(0,Z.jsx)(h.Z,{})}),(0,Z.jsx)(m.Z,{size:"small",onClick:function(){s(e.email)},icon:(0,Z.jsx)(j.Z,{})})]},n)}))}),(0,Z.jsx)(y,{children:"your friends"}),(0,Z.jsx)(w,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,Z.jsxs)(F,{children:[(0,Z.jsx)("img",{src:e.picture}),(0,Z.jsx)("div",{children:e.name}),(0,Z.jsx)("div",{children:e.email}),(0,Z.jsx)(m.Z,{onClick:function(){a(e.email)},size:"small",icon:(0,Z.jsx)(h.Z,{})})]},n)}))}),(0,Z.jsxs)(u.Z,{form:x,layout:"vertical",name:"form_in_modal",children:[(0,Z.jsx)(y,{children:"Enter user email"}),(0,Z.jsx)(u.Z.Item,{name:"email",rules:[{required:!0,message:"Error: Please enter user email"}],children:(0,Z.jsx)(f.Z,{placeholder:"input user email",suffix:(0,Z.jsx)(m.Z,{size:"large",icon:(0,Z.jsx)(v.Z,{}),onClick:function(){x.validateFields().then((function(e){x.resetFields(),o(e)}))}})})})]})]})},z=function(e){var n=e.open,i=e.friends,t=e.onlineFriends,r=e.onInvite,o=e.onCancel,s=i.filter((function(e){return!t.some((function(n){return n.email===e.email}))}));return(0,Z.jsxs)(d.Z,{open:n,footer:null,onCancel:o,children:[(0,Z.jsx)(y,{children:"Online Friends"}),(0,Z.jsx)(w,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,Z.jsxs)(F,{children:[(0,Z.jsx)("img",{src:e.picture}),(0,Z.jsx)("div",{children:e.name}),(0,Z.jsx)("div",{children:e.email}),(0,Z.jsx)(m.Z,{onClick:function(){r(e.email)},size:"small",icon:(0,Z.jsx)(g.Z,{})})]},n)}))}),(0,Z.jsx)(y,{children:"Offline Friends"}),(0,Z.jsx)(b,{children:null===s||void 0===s?void 0:s.map((function(e,n){return(0,Z.jsxs)(F,{children:[(0,Z.jsx)("img",{src:e.picture}),(0,Z.jsx)("div",{children:e.name}),(0,Z.jsx)("div",{children:e.email})]},n)}))})]})}},4395:function(e,n,i){i.d(n,{k:function(){return u},q:function(){return f}});var t,r,o=i(7186),s=i(2360),a=i(9080),l=i(184),c=s.ZP.div(t||(t=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  color: White;\n  font-weight: bold;\n  font-size: 25pt;\n  gap: 20px;\n\n  img {\n    width: 45px;\n    height: 45px;\n  }\n"]))),d=s.ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  color: ",";\n  font-size: 18pt;\n  gap: 20px;\n\n  img {\n    width: 40px;\n    height: 40px;\n  }\n"])),(function(e){return e.dead?"red":"white"})),u=function(e){var n=e.src,i=e.name;return(0,l.jsx)("div",{className:"profile",children:(0,l.jsxs)(c,{children:[(0,l.jsx)("img",{src:n}),(0,l.jsx)("div",{children:i})]})})},f=function(e){var n=e.playerList;return(0,l.jsx)("div",{className:"profile",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,l.jsxs)(d,{dead:e.healthPoints<=0,children:[(0,l.jsx)("img",{src:e.picture}),(0,l.jsx)("div",{children:e.name}),(0,l.jsx)("div",{children:e.healthPoints<=0?"LOSE":"HP :"+e.healthPoints}),e.isLeader?(0,l.jsx)(a.Z,{}):null]},n)}))})}},3338:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var t=i(678),r=i(7186),o=i(2791),s=i(7689),a=i(2360);function l(e){this.message=e}l.prototype=new Error,l.prototype.name="InvalidCharacterError";var c="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,t,r=0,o=0,s="";t=n.charAt(o++);~t&&(i=r%4?64*i+t:t,r++%4)?s+=String.fromCharCode(255&i>>(-2*r&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return s};function d(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(c(e).replace(/(.)/g,(function(e,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(e){return c(n)}}function u(e){this.message=e}u.prototype=new Error,u.prototype.name="InvalidTokenError";var f,m=function(e,n){if("string"!=typeof e)throw new u("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(d(e.split(".")[i]))}catch(e){throw new u("Invalid token specified: "+e.message)}},p=i(213),x=i(7133),h=i(2569),j=i(3182),v=i(6710),g=i(5673),Z=i(6253),y=i(4395),k=i(184),w={ArrowUp:"up",ArrowDown:"down",KeyZ:"select"},b=a.ZP.div(f||(f=(0,r.Z)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 1200px;\n  height: 675px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-end;\n  position: relative;\n\n  .optionPanel {\n    width: 50%;\n    height: 60%;\n  }\n\n  .profile {\n    position: absolute;\n    top: 20px;\n    left: 20px;\n  }\n"])),x.Nk),F=function(){var e=(0,h.v)(w),n=(0,o.useState)(0),i=(0,t.Z)(n,2),r=i[0],a=i[1],l=(0,o.useState)(!1),c=(0,t.Z)(l,2),d=c[0],u=c[1],f=(0,o.useState)(!1),x=(0,t.Z)(f,2),F=x[0],C=x[1],S=(0,o.useState)(!1),I=(0,t.Z)(S,2),P=I[0],z=I[1],D=(0,s.s0)(),A=(0,g.L)(),E=A.signInGame,R=A.logOutGame,O=A.changeName,_=A.openFriendSystem,q=A.addFriend,J=A.acceptFriend,G=A.deleteFriend,N=A.deleteRequest,L=A.createRoom,T=A.joinRoom,B=A.message,U=(0,o.useState)([]),W=(0,t.Z)(U,2),H=W[0],K=W[1],Y=(0,o.useState)([]),M=(0,t.Z)(Y,2),Q=M[0],V=M[1],X=(0,Z.a)(),$=X.signIn,ee=X.location,ne=X.name,ie=X.google,te=X.setSignIn,re=X.setGoogle,oe=X.setLocation,se=X.setPlayerID,ae=X.setRoomID,le=X.setName;(0,o.useEffect)((function(){"game"===ee?D("/game",{replace:!0}):"room"===ee?D("/room",{replace:!0}):"home"===ee&&D("/",{replace:!0})}),[ee]),(0,o.useEffect)((function(){if($){var n=r;if(e.up&&(n=r-1),e.down&&(n=r+1),n>=5&&(n=0),n<=-1&&(n+=5),a(n),e.select)switch(r){case 0:ce();break;case 1:u(!0);break;case 2:C(!0);break;case 3:_(ie.email),z(!0);break;case 4:ue()}}}),[e]),(0,o.useEffect)((function(){if((0,p.Wd)(B),"success"===B.type)switch(B.event){case"SignIn":te(!0),le(B.name),K(B.requests),V(B.friends);break;case"Change_Name":le(B.name);break;case"Open_FriendSystem":case"Accept_Friend":K(B.requests),V(B.friends);break;case"Add_Friend":break;case"Delete_Friend":V(B.friends);break;case"Delete_Request":K(B.requests);break;case"Create_Room":case"Join_Room":se(B.playerID),ae(B.roomID),oe("room");break;case"Invite_Friend":void 0!==B.roomID&&(0,p.uG)(B.user,(function(){de({roomID:B.roomID})}));break;case"LogOut":te(!1),re(null),le("")}}),[B]);var ce=function(){L(ie.email,ne,ie.picture)},de=function(e){var n=e.roomID;T(ie.email,ne,n,ie.picture),u(!1)},ue=function(){R(ie.email)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.fA,{open:!0!==$,callback:function(e){var n=m(e.credential);re(n),E(n.email,n.name,n.picture)}}),(0,k.jsx)(j.gl,{open:F,onCancel:function(){return C(!1)},onSave:function(e){O(ie.email,e.name,ie.picture),C(!1)}}),(0,k.jsx)(j.pJ,{open:d,onCancel:function(){return u(!1)},onJoin:de}),(0,k.jsx)(j.FF,{open:P,onCancel:function(){return z(!1)},onAddFriend:function(e){var n=e.email,i=ie.email;q(i,n)},onAcceptFriend:function(e){var n=ie.email;J(e,n)},onDeleteFriend:function(e){var n=ie.email;G(n,e)},onDeleteRequest:function(e){var n=ie.email;N(n,e)},requests:H,friends:Q}),(0,k.jsxs)(b,{children:[$?(0,k.jsx)(y.k,{src:null===ie||void 0===ie?void 0:ie.picture,name:ne}):null,(0,k.jsx)(v.a,{options:["Create Game","Join Game","Change Name","Friends","Log Out"],selection:r})]})]})}}}]);
//# sourceMappingURL=338.d0dc5337.chunk.js.map
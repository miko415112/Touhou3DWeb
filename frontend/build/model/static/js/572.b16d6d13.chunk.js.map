{"version":3,"file":"static/js/572.b16d6d13.chunk.js","mappings":"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","sources":["components/optionPanel.js","components/resource.js","containers/hooks/input.js","containers/hooks/network.js"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nconst OptionBlockWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  [id='0'] {\r\n    position: absolute;\r\n    top: 0%;\r\n    left: 40%;\r\n  }\r\n  [id='1'] {\r\n    position: absolute;\r\n    top: 20%;\r\n    left: 32%;\r\n  }\r\n  [id='2'] {\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 24%;\r\n  }\r\n  [id='3'] {\r\n    position: absolute;\r\n    top: 60%;\r\n    left: 16%;\r\n  }\r\n  [id='4'] {\r\n    position: absolute;\r\n    top: 80%;\r\n    left: 8%;\r\n  }\r\n`;\r\n\r\nconst TouhouFont = styled.div`\r\n  * {\r\n    font-family: DFPOPコン W12;\r\n    font-size: ${(props) => (props.hilight ? '3.4vw' : '3vw')};\r\n    font-weight: bold;\r\n    -webkit-text-stroke: 1px Black;\r\n    background-image: ${(props) =>\r\n      props.hilight\r\n        ? 'linear-gradient(to bottom,white 30% ,red)'\r\n        : 'linear-gradient(to bottom,white 30%,white)'};\r\n    color: transparent;\r\n    background-clip: text;\r\n    -webkit-background-clip: text;\r\n    opacity: ${(props) => (props.hilight ? 1 : 0.6)};\r\n  }\r\n`;\r\n\r\nexport const OptionPanel = ({ options, selection }) => {\r\n  return (\r\n    <OptionBlockWrapper className='optionPanel'>\r\n      {options.map((option, idx) => {\r\n        return (\r\n          <TouhouFont key={idx} hilight={selection == idx} id={idx}>\r\n            <div>{option}</div>\r\n          </TouhouFont>\r\n        );\r\n      })}\r\n    </OptionBlockWrapper>\r\n  );\r\n};\r\n","import {\r\n  CubeTextureLoader,\r\n  TextureLoader,\r\n  sRGBEncoding,\r\n  RepeatWrapping,\r\n} from 'three';\r\n\r\nimport { useGLTF } from '@react-three/drei';\r\n\r\nconst cubeTextureLoader = new CubeTextureLoader();\r\nconst textureLoader = new TextureLoader();\r\n\r\nexport const getSkyboxTextureArray = () => {\r\n  const textureArray = cubeTextureLoader.load([\r\n    require('../resource/skybox/corona_ft.png'),\r\n    require('../resource/skybox/corona_bk.png'),\r\n    require('../resource/skybox/corona_up.png'),\r\n    require('../resource/skybox/corona_dn.png'),\r\n    require('../resource/skybox/corona_rt.png'),\r\n    require('../resource/skybox/corona_lf.png'),\r\n  ]);\r\n\r\n  textureArray.encoding = sRGBEncoding;\r\n\r\n  return textureArray;\r\n};\r\n\r\nexport const getGroundTexture = () => {\r\n  const texture = textureLoader.load(require('../resource/dirt.jpg'));\r\n  texture.wrapS = RepeatWrapping;\r\n  texture.wrapT = RepeatWrapping;\r\n  texture.repeat.set(100, 100);\r\n  return texture;\r\n};\r\n\r\nexport const getLargeBulletTexture = () => {\r\n  const texture = textureLoader.load(\r\n    require('../resource/bullet/largeBullet.png')\r\n  );\r\n  return texture;\r\n};\r\n\r\nexport const getNormalBulletTexture = () => {\r\n  const texture = textureLoader.load(\r\n    require('../resource/bullet/normalBullet.png')\r\n  );\r\n  return texture;\r\n};\r\n\r\nexport const getSplitBulletTexture = () => {\r\n  const texture = textureLoader.load(\r\n    require('../resource/bullet/splitBullet.png')\r\n  );\r\n  return texture;\r\n};\r\n\r\nexport const getColorfulBulletTextureArray = () => {\r\n  const red = textureLoader.load(require('../resource/bullet/redBullet.png'));\r\n  const purple = textureLoader.load(\r\n    require('../resource/bullet/purpleBullet.png')\r\n  );\r\n  const green = textureLoader.load(\r\n    require('../resource/bullet/greenBullet.png')\r\n  );\r\n  const yellow = textureLoader.load(\r\n    require('../resource/bullet/yellowBullet.png')\r\n  );\r\n  return [red, purple, green, yellow];\r\n};\r\n\r\nexport const getPowerTexture = () => {\r\n  const powerTexture = textureLoader.load(require('../resource/powerItem.png'));\r\n  return powerTexture;\r\n};\r\n\r\nexport const RemiliaModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Remilia/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <group position={[0, 2, 0]}>\r\n        <mesh\r\n          geometry={nodes.Object_2.geometry}\r\n          material={materials.Material_0}\r\n        />\r\n      </group>\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const KoishiModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Koishi/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <group position={[0, -135, 0]} rotation={[0, Math.PI / 2, 0]} scale={0.8}>\r\n        <mesh\r\n          geometry={nodes.Object_4.geometry}\r\n          material={materials.Material_u1_v1}\r\n        />\r\n        <mesh\r\n          geometry={nodes.Object_5.geometry}\r\n          material={materials.Material_u1_v1}\r\n        />\r\n      </group>\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const SuwakoModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Suwako/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <group position={[0, -10, 0]} rotation={[0, Math.PI / 2, 0]}>\r\n        <mesh\r\n          geometry={nodes.Object_4.geometry}\r\n          material={materials['Material.001']}\r\n        />\r\n      </group>\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const MeilingModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Meiling/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <mesh\r\n        geometry={nodes.Object_4.geometry}\r\n        material={materials.Material_u1_v1}\r\n        rotation={[0, 0, 0]}\r\n        position={[0, -9, 0]}\r\n      />\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const SakuyaModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Sakuya/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <group scale={1}>\r\n        <mesh\r\n          geometry={nodes.Object_Material001_0.geometry}\r\n          material={materials['Material.001']}\r\n          position={[0, -13, 0]}\r\n          rotation={[0, -Math.PI / 2, 0]}\r\n          scale={180}\r\n        />\r\n      </group>\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const SanaeModel = (props) => {\r\n  const { nodes, materials } = useGLTF('/model/Sanae/Scene.gltf');\r\n  return (\r\n    <group {...props} dispose={null}>\r\n      <mesh\r\n        geometry={nodes.Object_4.geometry}\r\n        material={materials.Material_u1_v1}\r\n        rotation={[-0, 0, 0]}\r\n        position={[0, -9, 0]}\r\n        scale={0.7}\r\n      />\r\n    </group>\r\n  );\r\n};\r\n\r\nexport const roomBackgroundImage = require('../resource/roomBackground.jpg');\r\nexport const homeBackgroundImage = require('../resource/background.png');\r\nexport const nameBorderImage = require('../resource/nameBorder.png');\r\nexport const charaBorderImage = require('../resource/charaBorder.png');\r\n\r\nuseGLTF.preload('/model/Remilia/Scene.gltf');\r\nuseGLTF.preload('/model/Koishi/Scene.gltf');\r\nuseGLTF.preload('/model/Suwako/Scene.gltf');\r\nuseGLTF.preload('/model/Meiling/Scene.gltf');\r\nuseGLTF.preload('/model/Sakuya/Scene.gltf');\r\nuseGLTF.preload('/model/Sanae/Scene.gltf');\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useKeyboard = (keyMap) => {\r\n  const [movement, setMovement] = useState(() => {\r\n    const initialMovement = {};\r\n    for (const value in Object.values(keyMap)) {\r\n      initialMovement[value] = false;\r\n    }\r\n    return initialMovement;\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    setMovement((movement) => ({ ...movement, [keyMap[e.code]]: true }));\r\n  };\r\n\r\n  const handleKeyUp = (e) => {\r\n    setMovement((movement) => ({ ...movement, [keyMap[e.code]]: false }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    document.addEventListener('keyup', handleKeyUp);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown);\r\n      document.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, []);\r\n\r\n  return movement;\r\n};\r\n\r\nexport const useMouse = (mouseMap) => {\r\n  const [movement, setMovement] = useState(() => {\r\n    const initialMovement = {};\r\n    for (const value in Object.values(mouseMap)) {\r\n      initialMovement[value] = false;\r\n    }\r\n    return initialMovement;\r\n  });\r\n\r\n  const handleMouseDown = (e) => {\r\n    setMovement((movement) => ({ ...movement, [mouseMap[e.button]]: true }));\r\n    if (e.button !== 1) e.preventDefault();\r\n  };\r\n\r\n  const handleMouseUp = (e) => {\r\n    setMovement((movement) => ({ ...movement, [mouseMap[e.button]]: false }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', handleMouseDown);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleMouseDown);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  return movement;\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { Manager } from 'socket.io-client';\r\n\r\nconst API_ROOT =\r\n  process.env.NODE_ENV === 'production'\r\n    ? window.location.origin.replace(/^http/, 'ws')\r\n    : 'ws://localhost:4000';\r\nconst manager = new Manager(API_ROOT);\r\nconst socket = manager.socket('/');\r\n\r\nconst signInGame = (email, name, picture) => {\r\n  const data = {\r\n    email,\r\n    name,\r\n    picture,\r\n  };\r\n  socket.emit('SignIn', data);\r\n};\r\n\r\nconst logOutGame = (email) => {\r\n  const data = {\r\n    email,\r\n  };\r\n  socket.emit('LogOut', data);\r\n};\r\n\r\nconst openFriendSystem = (email) => {\r\n  const data = {\r\n    email,\r\n  };\r\n  socket.emit('Open_FriendSystem', data);\r\n};\r\n\r\nconst changeName = (email, name, picture) => {\r\n  const data = {\r\n    email,\r\n    name,\r\n    picture,\r\n  };\r\n  socket.emit('Change_Name', data);\r\n};\r\n\r\nconst addFriend = (email_from, email_to) => {\r\n  const data = {\r\n    email_from,\r\n    email_to,\r\n  };\r\n  socket.emit('Add_Friend', data);\r\n};\r\n\r\nconst acceptFriend = (email_from, email_to) => {\r\n  const data = {\r\n    email_from,\r\n    email_to,\r\n  };\r\n  socket.emit('Accept_Friend', data);\r\n};\r\n\r\nconst deleteFriend = (email_from, email_to) => {\r\n  const data = {\r\n    email_from,\r\n    email_to,\r\n  };\r\n  socket.emit('Delete_Friend', data);\r\n};\r\n\r\nconst deleteRequest = (email_from, email_to) => {\r\n  const data = {\r\n    email_from,\r\n    email_to,\r\n  };\r\n  socket.emit('Delete_Request', data);\r\n};\r\n\r\nconst inviteFriend = (playerID, email_to, roomID) => {\r\n  const data = {\r\n    playerID,\r\n    email_to,\r\n    roomID,\r\n  };\r\n  socket.emit('Invite_Friend', data);\r\n};\r\n\r\nconst createRoom = (email, name, picture) => {\r\n  const data = {\r\n    email,\r\n    name,\r\n    picture,\r\n  };\r\n  socket.emit('Create_Room', data);\r\n};\r\n\r\nconst joinRoom = (email, name, roomID, picture) => {\r\n  const data = {\r\n    email,\r\n    name,\r\n    roomID,\r\n    picture,\r\n  };\r\n  socket.emit('Join_Room', data);\r\n};\r\n\r\nconst leaveRoom = (roomID, playerID) => {\r\n  const data = {\r\n    roomID: roomID,\r\n    playerID: playerID,\r\n  };\r\n  socket.emit('Leave_Room', data);\r\n};\r\n\r\nconst startGame = (roomID) => {\r\n  const data = {\r\n    roomID: roomID,\r\n  };\r\n  socket.emit('Start_Game', data);\r\n};\r\n\r\nconst updatePlayer = (roomID, playerID, props) => {\r\n  const data = {\r\n    roomID: roomID,\r\n    playerID: playerID,\r\n    props,\r\n  };\r\n  socket.emit('Update_Player', data);\r\n};\r\n\r\nexport const useNetwork = () => {\r\n  const [playerList, setPlayerList] = useState();\r\n  const [roomState, setRoomState] = useState();\r\n  const [message, setMessage] = useState({});\r\n\r\n  useEffect(() => {\r\n    socket.on('connect', () => {\r\n      console.log('connected');\r\n    });\r\n    socket.on('Message', (msg) => {\r\n      setMessage(msg);\r\n    });\r\n    socket.on('Room_Info', (room) => {\r\n      setPlayerList(room.playerList);\r\n      setRoomState(room.state);\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    updatePlayer,\r\n    signInGame,\r\n    logOutGame,\r\n    changeName,\r\n    openFriendSystem,\r\n    addFriend,\r\n    acceptFriend,\r\n    deleteFriend,\r\n    deleteRequest,\r\n    inviteFriend,\r\n    createRoom,\r\n    joinRoom,\r\n    leaveRoom,\r\n    startGame,\r\n    message,\r\n    playerList,\r\n    roomState,\r\n  };\r\n};\r\n"],"names":["OptionBlockWrapper","styled","TouhouFont","props","hilight","OptionPanel","options","selection","className","map","option","idx","id","cubeTextureLoader","CubeTextureLoader","textureLoader","TextureLoader","getSkyboxTextureArray","textureArray","load","require","encoding","sRGBEncoding","getGroundTexture","texture","wrapS","RepeatWrapping","wrapT","repeat","set","getLargeBulletTexture","getNormalBulletTexture","getSplitBulletTexture","getColorfulBulletTextureArray","getPowerTexture","RemiliaModel","useGLTF","nodes","materials","dispose","position","geometry","Object_2","material","Material_0","KoishiModel","rotation","Math","PI","scale","Object_4","Material_u1_v1","Object_5","SuwakoModel","MeilingModel","SakuyaModel","Object_Material001_0","SanaeModel","roomBackgroundImage","homeBackgroundImage","nameBorderImage","charaBorderImage","useKeyboard","keyMap","useState","initialMovement","value","Object","values","movement","setMovement","handleKeyDown","e","code","handleKeyUp","useEffect","document","addEventListener","removeEventListener","useMouse","mouseMap","handleMouseDown","button","preventDefault","handleMouseUp","API_ROOT","window","location","origin","replace","socket","Manager","signInGame","email","name","picture","data","emit","logOutGame","openFriendSystem","changeName","addFriend","email_from","email_to","acceptFriend","deleteFriend","deleteRequest","inviteFriend","playerID","roomID","createRoom","joinRoom","leaveRoom","startGame","updatePlayer","useNetwork","playerList","setPlayerList","roomState","setRoomState","message","setMessage","on","console","log","msg","room","state"],"sourceRoot":""}